<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<div class="contentDiv">
		<p:panel style="width:100%;"
			header="#{msg['dialog.userSettings.general']}"
			styleClass="contentPannel" />

		<!-- standard view -->
		<h:panelGrid columns="2" styleClass="defaultListingTableCss">
			<!-- standard view -->
			<h:outputLabel
				value="#{msg['dialog.userSettings.general.defaultView']}" />

			<p:selectOneMenu
				title="#{msg['dialog.userSettings.general.defaultView.text']}"
				styleClass="smallInput"
				value="#{userSettingsDialog.user.defaultView}">

				<f:selectItems value="#{userSettingsDialog.availableViews}"
					var="page" itemLabel="#{msg['enum.pages.'.concat(page)]}" />
			</p:selectOneMenu>
		</h:panelGrid>

		<!-- Separator -->
		<h:panelGrid columns="1" styleClass="defaultListingTableCss"
			style="margin-top:20px;">
			<p:separator style="width:100%" />
			<h:outputLabel value="#{msg['dialog.userSettings.general.worklist']}"
				style="font-weight:bold !important;"></h:outputLabel>
		</h:panelGrid>

		<h:panelGrid columns="2" styleClass="defaultListingTableCss">
			<!-- standard work list -->
			<h:outputLabel
				value="#{msg['dialog.userSettings.general.defaultWorklist']}" />
			<p:selectOneMenu styleClass="smallInput"
				title="#{msg['dialog.userSettings.general.defaultWorklist.text']}"
				value="#{userSettingsDialog.user.worklistToLoad}">

				<f:selectItems
					value="#{userSettingsDialog.availableWorklistsToLoad}" var="page"
					itemLabel="#{msg['enum.worklistSearchOption.'.concat(page)]}" />
			</p:selectOneMenu>

			<!-- sorting -->
			<h:outputLabel value="#{msg['dialog.userSettings.general.sorting']}" />

			<h:panelGrid columns="2" styleClass="defaultListingTableContainer"
				style="width: 300px;">
				<p:selectOneMenu styleClass="smallInput"
					title="#{msg['dialog.userSettings.general.sorting.text']}"
					value="#{userSettingsDialog.user.worklistSortOrder}">
					<f:selectItem
						itemLabel="#{msg['dialog.worklistorder.sorting.tasknumber']}"
						itemValue="TASK_ID" />
					<f:selectItem
						itemLabel="#{msg['dialog.worklistorder.sorting.piz']}"
						itemValue="PIZ" />
					<f:selectItem
						itemLabel="#{msg['dialog.worklistorder.sorting.name']}"
						itemValue="NAME" />
					<f:selectItem
						itemLabel="#{msg['dialog.worklistorder.sorting.priority']}"
						itemValue="PRIORITY" />
				</p:selectOneMenu>

				<p:selectBooleanButton styleClass="smallInput smallFont smallButton"
					value="#{userSettingsDialog.user.worklistSortOrderAsc}"
					style="margin-left:15px;"
					onLabel="#{msg['dialog.userSettings.general.sorting.asc']}"
					offLabel="#{msg['dialog.userSettings.general.sorting.desc']}" />
			</h:panelGrid>

			<!-- hide inactive tasks -->
			<h:outputLabel
				value="#{msg['dialog.userSettings.general.hideNonActiveTasks']}" />
			<p:selectBooleanCheckbox
				value="#{userSettingsDialog.user.worklistHideNoneActiveTasks}"
				title="#{msg['dialog.userSettings.general.hideNonActiveTasks.text']}" />

			<!-- auto update worklist -->
			<h:outputLabel
				value="#{msg['dialog.userSettings.general.autoUpdate']}" />
			<p:selectBooleanCheckbox
				value="#{userSettingsDialog.user.worklistAutoUpdate}"
				title="#{msg['dialog.userSettings.general.autoUpdate.text']}" />
		</h:panelGrid>
	</div>

	<div class="bottomDiv">
		<h:panelGrid columns="2" style="width:100%"
			styleClass="noBordersAll collapsedBordersAll noPaddingAll">
			<h:panelGrid columns="2" style="float:right;">
				<p:commandButton value="#{msg['general.save']}"
					styleClass="smallButton buttonRighMarginInList"
					icon="fa fa-check-circle-o" partialSubmit="true"
					process="printerTab generalTab">
					<f:actionListener
						binding="#{userSettingsDialog.saveUserSettings()}" />
					<f:actionListener binding="#{userSettingsDialog.hideDialog()}" />
				</p:commandButton>

				<p:commandButton value="#{msg['general.close']}"
					styleClass="smallButton buttonRighMarginInList"
					icon="fa fa-times-circle">
					<f:actionListener
						binding="#{userSettingsDialog.resetUserSettings()}" />
					<f:actionListener binding="#{userSettingsDialog.hideDialog()}" />
				</p:commandButton>
			</h:panelGrid>
		</h:panelGrid>
	</div>

</ui:composition>
