<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>#{msg['dialog.addPatient.headline']}</title>
	<h:outputStylesheet name="histo.css" value="histo.css" />
</h:head>

<h:body styleClass="printDialog">
	<h:form>
		<div class="bodyDiv">
			<div class="contentDiv">

				<h:panelGrid>
					<p:selectOneButton value="#{pdfHandlerAction.printTab}">
						<f:selectItem itemLabel="Gespeichert (3)" itemValue="PDF_VIEW" />
						<f:selectItem itemLabel="Neu" itemValue="PRINT_VIEW" />
						<p:ajax update="contentDiv"
							listener="#{pdfHandlerAction.onChangePrintTab}"></p:ajax>
					</p:selectOneButton>
				</h:panelGrid>




				<h:panelGrid columns="2" columnClasses="settingsColumn,pdfColumn"
					styleClass="contentTable" id="contentDiv">

					<h:panelGrid rendered="#{pdfHandlerAction.printTab eq 'PDF_VIEW'}">
						<p:dataTable value="#{pdfHandlerAction.taskToPrint.attachedPdfs}"
							var="pdfs">
							<p:column headerText="Id">
								<h:outputText value="#{pdfs.id}" />
							</p:column>
						</p:dataTable>
					</h:panelGrid>

					<h:panelGrid columns="2"
						rendered="#{pdfHandlerAction.printTab eq 'PRINT_VIEW'}">
						<h:outputLabel value="Dokument" />
						<p:selectOneMenu value="#{pdfHandlerAction.selectedTemplate}"
							style="width:150px;"
							converter="#{pdfHandlerAction.templateTransformer}">
							<f:selectItems value="#{pdfHandlerAction.templates}"
								var="template" itemLabel="#{msg[template.name]}"
								itemValue="#{template}" />

							<p:ajax update="@form"
								listener="#{pdfHandlerAction.onChangeTemplate()}"></p:ajax>
						</p:selectOneMenu>

						<h:panelGroup style="height:15px;" layout="block" />
						<h:panelGroup style="height:15px;" layout="block" />

						<h:outputLabel value="Drucker" />
						<p:selectOneMenu style="width:150px;">
							<f:selectItem itemLabel="TODO" itemValue="0" />
						</p:selectOneMenu>

						<h:outputLabel value="Anzahl" />
						<p:spinner min="1" size="13" />

						<h:panelGroup style="height:15px;" layout="block" />
						<h:panelGroup style="height:15px;" layout="block" />

						<h:outputLabel value="Befunder" />
						<p:selectOneMenu style="width:150px;">
							<f:selectItem itemLabel="TODO" itemValue="0" />
						</p:selectOneMenu>

						<h:panelGroup></h:panelGroup>
						<p:selectOneMenu style="width:150px;">
							<f:selectItem itemLabel="TODO" itemValue="0" />
						</p:selectOneMenu>

						<h:outputLabel value="Oberarzt" />
						<p:selectOneMenu style="width:150px;">
							<f:selectItem itemLabel="TODO" itemValue="0" />
						</p:selectOneMenu>

						<h:panelGroup></h:panelGroup>
						<p:selectOneMenu style="width:150px;">
							<f:selectItem itemLabel="TODO" itemValue="0" />
						</p:selectOneMenu>
					</h:panelGrid>

					<p:media player="pdf" id="testtest"
						value="#{pdfHandlerAction.pdfContent}" width="100%" height="550px"></p:media>
				</h:panelGrid>
			</div>

			<div class="bottomDiv">
				<h:panelGrid columns="2" style="width:100%"
					styleClass="noBordersAll collapsedBordersAll noPaddingAll">
					<h:panelGrid columns="2">
						<p:commandButton value="Ã–ffnen" process="@form"
							icon="fa fa-fw fa-user-plus">
							<f:actionListener
								binding="#{patientHandlerAction.addNewExternalPatient(patientHandlerAction.tmpPatient)}" />
							<f:actionListener
								binding="#{worklistHandlerAction.addPatientToWorkList(patientHandlerAction.tmpPatient,true)}" />
							<f:actionListener
								binding="#{patientHandlerAction.clearTmpPatient()}" />
						</p:commandButton>
						<p:commandButton value="Drucken" process="@form"
							icon="fa fa-fw fa-user-plus">
							<f:actionListener
								binding="#{patientHandlerAction.addNewExternalPatient(patientHandlerAction.tmpPatient)}" />
							<f:actionListener
								binding="#{worklistHandlerAction.addPatientToWorkList(patientHandlerAction.tmpPatient,true)}" />
							<f:actionListener
								binding="#{patientHandlerAction.clearTmpPatient()}" />
						</p:commandButton>
					</h:panelGrid>
				</h:panelGrid>
			</div>
		</div>
	</h:form>
</h:body>
</html>