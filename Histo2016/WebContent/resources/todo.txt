-> UTF 8 Tomcat: -Dfile.encoding=UTF8
-> plink windows set PATH=C:\path\to\putty\directory;%PATH%
-> https://vladmihalcea.com/2015/02/09/hibernate-locking-patterns-how-does-optimistic_force_increment-lock-mode-work/

	<!-- Staining, add to staining phase, if all staining tasks have been completed-->
					<p:menuitem
						value="#{msg['header.menu.task.sample.stainingPhase.force.enter']}"
						disabled="#{!taskEditable}" icon="fa fa-fw fa-image"
						onclick="$('#headerForm\\:stainingPhaseForceEnter').click();$('#headerForm\\:tieredOptions').hide();return false;"
						rendered="#{taskIsNotNull and !selectedTask.isListedInFavouriteList('StainingList', 'ReStainingList','StayInStainingList')}" />

helper getPrinterForIP => sub { my ($self, $ip)=@_;
    my $room = Mojo::UserAgent->new->get('http://10.210.21.11:3009/DB/PLS/ip2room/ip/'.$ip)->res->json->[0]->{aufruftext};
    return sprintf("Amb-U%02d", $1) if $room =~/U([0-9]+)$/oi;
};

create view patientmenumodel as select patient.id, person.lastname, person.firstname, person.title, patient.piz, person.birthday from patient, person, contact where patient.person_id = person.id and person.contact_id = contact.id
create view taskmenumodel as select task.id, task.taskid, task.taskpriority, task.duedate, task.parent_id from task



TODO: 2: favouriten f�r benutzer zug�nlich machen
TODO: Datenbankabfragen in globaleidt handler shiften
TODO: 4: erweiterte Suche / 
TODO: 1: AUW 3 Änderungen 
	TODO: Auswahl der Diagnose im Druckmenu
	TODO: Feld für zurückgegebene konsile ausleihe str + bool

TODO: 0.1: Finaliz in task, wird dies benötig -> löschen durch diagnosis date ersetzen
TODO: 5: Latex Datei für externen Befund
TODO: 6: Liste f�r normale benutzer �berarbeiten


TODO: rechte durchsetzten
TODO: Externes editieren von benutzer (contact) muss wieder gehend gemacht werde
TODO: Update header menu wenn nachfärbung erstellt wird
TODO: Versionfehler beim �ffnen von dialogen handeln
TODO: object f�r Arbeitsliste muss kopiert werden, wird momentan sofort �bernommen
TODO: wenn Task entity gel�scht wird kann es sein das der beende staining phase dialog angezgit wird, geht noch nicht richitg
TODO: Ansicht abh�ngige Kn�pfe
TODO: prevent overwriting of data from clinic physicians if changed
TODO: verbessern der patientenauswahl in patienten liste
TODO: Archivieren + Dearchivieren
TODO: Konsile d�rfen nicht mehr bearbeitbar sein, wenn task finalisiert

weniger wichtig
TODO: organizsation so verändern wie user + group dialog
TODO: loggin �berarbeiten, methoden in generica dat shiften
TODO: log in settings rework
TODO: Individelle Adressen beim drucken sollten aus personen gespeichert werden?
TODO: Wenn Aufträge gelöscht werden müssen pdf mit gelöscht werden..
TODO: Benachrichtigugen: Liste von fax/email/phone m�sse nur aktuallisiert werden, nicht komplett neu generiert werden, wenn man �ber den contakt dialog sachen �dnert
TODO: Freischaltungs link

++++: chargen für färbungen
++++: Patienten Daten im header menu geht nicht
++++: Histouser vor einloggen hinzufügen
++++: Bennung von Proben usw verbieten, wenn task nicht editiertbar
++++: Schnelle Nachf�rbug Dialog
++++: Phasen + Phasen Buttons im Menu überprüfen
++++: batches gui für färbungen
++++: Briefliste in diagnose muss bei diagnose Änderugnen übernommen werden -< updateNotificationOnDiagnosisChange
++++: Notification! ->  save sendreport, 
++++: associated contact und associated contact notification haben beide ein custom addres field, von associated contact diese entfernen
++++: reperform send, send report latex
++++: Labelprinten überprüfen ob richtig geht
++++: Ldap, Fax überprüfen ob richtig gehen
++++: Global settings thread save -> LDAP HANDLER, LabelPrinter (stateless machen)
++++: Contact Dialog geht nicht
++++: 6: Contact Dialog mit neuem view �berarbeiten
++++: Personen m�ssen auch den Organisationen hinzuge�gt werden
++++: standard organisation + konsilare von claudia übernehmen, 
++++: versionsfehler besser handlen, refresh der seite
++++: Bilder für Konsilanzeige einabauen
++++: Diagnosen müssen default brieffelder bekommen
++++: Seach QUick add feld geht gerade nicht richtig
++++: Überprüfen ob organisationen beim ersten einloggen automatisch gestzt werden
++++: Versionkonflik beim löschen von organisationen
++++: Sort Optionen f�r worklist arbeitet nicht richtig / anzeige selected task verbessern
++++: Emailbenachrichtigung wenn externes Konsil hochgeladen wird status konsil ausstehend, erledigt als boolean feld
++++: benutzer settings
++++: Geschlecht von ldap rausfinden
++++: favouriten
++++: Bl�cke nomeklatur �berpr�fen
++++: einspeisen von operateueren abgleichen, geht zumteil nicht richtig
++++: Drucker werde gerade nicht richtig eigelsen
++++: PDF generation, wenn keien Untersucher ausgew�hlt sind geht nicht
++++: Autonomekature f�r Bl�cke arbeitet nicht + nicht �berschreiben von manuell umbenannte diagnosen
++++: Diangose text speichern, geht zurzeit nicht
++++: Konsile gehen nicht
++++: Biobank
++++: Settings Personen: Es m�ssen Haus�rzte angezeigt werden k�nnen (werden bisher nur operateure, augen�rtze/ andere
++++: Arzt muss als untersucher markiert werden f�r unterschriften
++++: notification search
++++: Kontakte, testen ob primarycontact aktuallisiert wird
++++: Sendefunktion testen!
++++: anzeige des status
++++: Diangose beenden, auswahl der templates
++++: Auswahl der Operatuere/Einsender im diagnsoe bildschirm vereinfachen
++++: Benachrichtigung �berarbeiten
++++: DiagnosenPrest Namen feld in category umbenennen
++++: Diagnosen Kategory, im erstellungs dialog
++++: Manuellen Phasenwechsel zug�nglich machen 
++++: boolean felder von task �berarbeiten
++++: Kopf f�r mehrer Diangose einabuen, Histologischer Befund als normalbefund, �ndern zu vorl�ufiger befund, Konsilbefund, nachbefund
++++: urgent: status und info dialog
++++: check patient fetch from jason form clinik -> zu viele patienten
++++: wenn kein patient gefunden, darf dieser nicht ausgew�hlt werden k�nnen
++++: print dialog auswahl der �rtze geht nicht
++++: UREPORT Printing from create dialog
++++: Multible councils
++++: Diagnose page
++++: edit page patient external
++++: Logout warn
++++: status display (in navigation)
++++: Edit external patient from menu bar
++++: Priorisierung
++++: fullName propertie of physician move to person
++++: Print-Dialog und auswahl von Files in patientenmaske

http://stackoverflow.com/questions/6149919/is-it-safe-to-start-a-new-thread-in-a-jsf-managed-bean
Session Refresh: http://stackoverflow.com/questions/3642919/javax-faces-application-viewexpiredexception-view-could-not-be-restored










